<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Air In Pittsburgh</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.2/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnify/2.3.3/css/magnify.css">
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@creativebulma/bulma-tooltip@1.0.2/dist/bulma-tooltip.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <script src="filterActivity.js"></script>
    <style>
        #entry {
            height: 100%;
            background: url("images/entry image.png") no-repeat center center fixed;
            background-size: cover;
        }

        #history {
            height: 100%;
            background: url("images/history.png") no-repeat center center fixed;
            background-size: cover;
        }

        .magnify>.magnify-lens {
            background-color: #fff !important;
            /* Prevent adjacent image from appearing in lens */
        }


        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 15px;
            border-radius: 5px;
            background: #d3d3d3;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
        }

        .slider:hover {
            opacity: 1;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #4CAF50;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #4CAF50;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <!--entry: today's air-->
    <section class="hero is-success is-fullheight" id="entry">
        <div class="hero-body">
            <div class="container">
                <h1 class="title has-text-centered is-large">
                    The Invisible Threats
                </h1>
                <h2 class="subtitle has-text-centered is-large">
                    A Museum Exhibit about Air Quality
                </h2>
                <h2 class="subti has-text-centered">
                    ↓ Scroll Down
                </h2>
            </div>
        </div>
    </section>
    <section class="hero is-medium">
        <div class="hero-body">
            <div class="columns is-vcentered">
                <div class="column">
                    <h2 class="title has-text-centered is-large">
                        Today's Air Quality
                    </h2>
                    <h3 class="subtitle has-text-centered is-large">In Pittsburgh</h3>
                    <div name="airvisual_widget" key="w3hgWzn7hSkcyYDtf" class="has-text-centered"></div>
                    <script type="text/javascript" src="https://www.airvisual.com/scripts/widget_v2.0.js"></script>


                    <!-- 
                        Air Quality Forecast Widget: Place this on your web page within the body tags. 
                        This div may be placed within other divs or within table cells
                         -->
                    <div id="widget">
                    </div>
                    <!-- //end Air Quality Forecast Widget scripts -->

                </div>
                <div class="column">
                    <h2 class="title has-text-centered is-large">
                        What does it mean?
                    </h2>
                    <div class="card">
                        <div class="card-content">
                            <p class="title">AQI</p>
                            <p class="content">The AQI is an <strong>index for reporting daily air quality.</strong> It
                                tells you how clean or polluted your air is, and what associated health effects might be
                                a concern for you. The AQI focuses on health effects you may experience within a few
                                hours or days after breathing polluted air.</p>
                            <a href="https://www.airnow.gov/index.cfm?action=ani.aniaqi" class="is-pulled-right"
                                target="_blank">Learn More</a>
                            <p><br /></p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-content">
                            <p class="title">PM2.5</p>
                            <p class="content">PM2.5 refers to <strong>atmospheric particulate matter (PM)</strong> that
                                have a diameter of less than 2.5 micrometers, which is about 3% the diameter of a human
                                hair. Fine particles can come from various sources. They include power plants, motor
                                vehicles, airplanes, residential wood burning, forest fires, agricultural burning,
                                volcanic eruptions and dust storms.</p>
                            <a href="https://blissair.com/what-is-pm-2-5.htm" class="is-pulled-right"
                                target="_blank">Learn More</a>
                            <p><br /></p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-content">
                            <p class="title">Humidity</p>
                            <p class="content">Humidity is the <strong>concentration of water vapour present in the
                                    air.</strong> Water vapour, the gaseous state of water, is generally invisible to
                                the human eye. Humidity indicates the likelihood for precipitation, dew, or fog to be
                                present.</p>
                            <a href="https://www.wikiwand.com/en/Humidity" class="is-pulled-right" target="_blank">Learn
                                More</a>
                            <p><br /></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--history-->
    <section class="hero is-success is-fullheight" id="history">
        <div class="hero-body">
            <div class="container">
                <div class="columns is-vcentered has-background-grey">
                    <div class="column">
                        <h2 class="title is-large">Today looks not bad, right? <br /><br />But it hasn't always been
                            like
                            this...
                        </h2>
                    </div>
                    <div class="column">
                        <p class="content">In fact, Pittsburgh used to have such bad air in the 20th century that it was
                            known as the “Smoky City” or “Hell With the Lid Off” due to the overwhelmingly foul
                            conditions that plagued it for over a century. <br /><br /> Its geographic location and
                            natural resource endowments made it an ideal home for the industries that inevitably created
                            the pollution problem. The city’s dark past has been described as a cautionary tale for
                            cities lacking environmental control.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--current pollution-->
    <section class="hero is-medium">
        <div class="hero-body">
            <div class="container">
                <div class="columns is-vcentered">
                    <div class="column is-4">
                        <h2 class="title has-text-centered">And we STILL have <br /><span
                                style="opacity:0.4;">invisible</span> air pollution</h2>
                        <div class="card">
                            <div class="card-content">
                                <p class="content">Pittsburgh is still consistently ranked in the <strong>top cities for
                                        air
                                        pollution</strong> by the American Lung Association in their State of the Air
                                    reports.</p>
                                <p class="content">In 2016, the region landed as the 8th worst in the country for
                                    year-round
                                    measures on <strong>fine particle pollution (or soot)</strong>, and the 14th worst
                                    for
                                    <strong>short-term particle pollution</strong> (the number of days with unhealthy
                                    particle levels when air quality is especially dangerous). </p>
                                <a href="https://cleanair.org/public-health/pittsburgh-air-pollution/" target="_blank"
                                    class="is-pulled-right">Learn More</a>
                                <p><br /></p>
                            </div>
                        </div>
                    </div>
                    <div class="column is-2"></div>
                    <div class="column is-6">

                        <h2 class="title has-text-centered">Main Pollutant NOW: <br /><span id="dominentpol"></span>
                        </h2>

                        <div class="columns">
                            <div class="column">
                                <div class="card">
                                    <header class="card-header">
                                        <p class="card-header-title">
                                            PM<sub>2.5</sub> &nbsp AQI
                                        </p>
                                    </header>
                                    <div class="card-content title has-text-centered" id="pm25">
                                    </div>
                                </div>
                            </div>
                            <div class="column">
                                <div class="card">
                                    <header class="card-header">
                                        <p class="card-header-title">
                                            O<sub>3</sub> &nbsp AQI
                                        </p>
                                    </header>
                                    <div class="card-content title has-text-centered" id="o3">
                                    </div>
                                </div>
                            </div>
                            <div class="column">
                                <div class="card">
                                    <header class="card-header">
                                        <p class="card-header-title">
                                            NO<sub>2</sub> &nbsp AQI
                                        </p>
                                    </header>
                                    <div class="card-content title has-text-centered" id="no2">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p class="is-size-7 is-pulled-right">* Real-time data from <a href="https://aqicn.org/sources/"
                                target="_blank">The World Air Quality Project</a></p>
                    </div>
                </div>
            </div>
    </section>
    <!--magnify activity-->
    <section class="hero is-small">
        <div class="hero-body">
            <div class="container">
                <h2 class="title has-text-centered">These air pollutants are <span style="opacity:0.4;">invisible</span>
                    to the naked eye.</h2>
                <h3 class="subtitle has-text-centered"><strong>Hover your mouse</strong> over the image to explore where
                    they can be.
                </h3>

                <figure class="image is-640x440 has-text-centered">
                    <img src="images\Zoom Small.png" class="zoom" data-magnify-src="images/Zoom Big.png">
                </figure>
            </div>
        </div>
    </section>

    <section class="hero is-light is-bold is-fullheight">
        <div class="hero-body">
            <div class="container">
                <h2 class="title has-text-centered">So...How can our actions change the air?</h2>
                <h3 class="subtitle has-text-centered">What can we do to make the air better?</h3>
            </div>
        </div>
    </section>

    <!--actions filter activity-->
    <section class="hero is-fullheight">
        <div class="hero-body">
            <div class="container">
                <h2 class="title has-text-centered">Explore how the different actions will affect our air quality</h2>
                <p class="has-text-centered">These actions are on three levels: <strong>government, community, and individual.</strong> <br/>Can you change the different actions to make Pittsburgh's air cleaner?<br/><br/></br.></p>
                <div class="columns is-vcentered">
                    <div class="column is-one-thirds">

                        <!--one action-->
                        <div class="container">
                            <p class="has-text-centered has-text-weight-bold">Policy on Industry Emission</p>
                            <div class="columns is-vcentered is-mobile">
                                <div class="column is-one-third ">
                                    <p class="has-text-centered">Loose</p>
                                </div>
                                <div class="column is-one-third ">
                                    <input type="range" min="1" max="3" value="2" class="slider"
                                        id="govEmissionPolicyRange"
                                        oninput="changeEmission(this.value);changeFilter();">
                                </div>
                                <div class="column is-one-third ">
                                    <p class="has-text-centered">Strict</p>
                                </div>
                            </div>
                        </div>

                        <!--one action-->
                        <div class="container">
                            <p class="has-text-centered has-text-weight-bold">Energy Source</p>
                            <div class="columns is-vcentered is-mobile">
                                <div class="column is-one-third ">
                                    <p class="has-text-centered">Fossil Fuels</p>
                                </div>
                                <div class="column is-one-third ">
                                    <input type="range" min="1" max="3" value="2" class="slider" id="energySourceRange"
                                        oninput="changeEnergy(this.value);changeFilter();">
                                </div>
                                <div class="column is-one-third ">
                                    <p class="has-text-centered">Renewables</p>
                                </div>
                            </div>
                        </div>

                        <!--one action-->
                        <div class="container">
                            <p class="has-text-centered has-text-weight-bold">Transportation</p>
                            <div class="columns is-vcentered is-mobile">
                                <div class="column is-one-third ">
                                    <p class="has-text-centered">Private Cars</p>
                                </div>
                                <div class="column is-one-third ">
                                    <input type="range" min="1" max="3" value="2" class="slider"
                                        id="transportationRange" oninput="changeCars(this.value);changeFilter();">
                                </div>
                                <div class="column is-one-third ">
                                    <p class="has-text-centered">Public Transport</p>
                                </div>
                            </div>
                        </div>

                        <!--one action-->
                        <div class="container">
                            <p class="has-text-centered has-text-weight-bold">Wood Burning</p>
                            <div class="columns is-vcentered is-mobile">
                                <div class="column is-one-third ">
                                    <p class="has-text-centered">More Buring</p>
                                </div>
                                <div class="column is-one-third ">
                                    <input type="range" min="1" max="3" value="2" class="slider" id="burningRange"
                                        oninput="changeBurn(this.value);changeFilter();">
                                </div>
                                <div class="column is-one-third ">
                                    <p class="has-text-centered">Less Burning</p>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="column is-two-thirds">
                        <div class="container">
                            <figure class="image is-800x500 has-text-centered">
                                <img src="images\filter_activity\background.png" id="actionBackground">

                                <!--emission overlays-->
                                <img src="images\filter_activity\emission-1.png" class="is-overlay" id="emission-1"
                                    style="visibility: hidden;">
                                <img src="images\filter_activity\emission-2.png" class="is-overlay" id="emission-2"
                                    style="visibility: hidden;">
                                <img src="images\filter_activity\emission-3.png" class="is-overlay" id="emission-3"
                                    style="visibility: hidden;">
                                <!--energy overlays-->
                                <img src="images\filter_activity\energy-1.png" class="is-overlay" id="energy-1"
                                    style="visibility: hidden;">
                                <img src="images\filter_activity\energy-2.png" class="is-overlay" id="energy-2"
                                    style="visibility: hidden;">
                                <img src="images\filter_activity\energy-3.png" class="is-overlay" id="energy-3"
                                    style="visibility: hidden;">
                                <!--car overlays-->
                                <img src="images\filter_activity\car-1.png" class="is-overlay" id="car-1"
                                    style="visibility: hidden;">
                                <img src="images\filter_activity\car-2.png" class="is-overlay" id="car-2"
                                    style="visibility: hidden;">
                                <img src="images\filter_activity\car-3.png" class="is-overlay" id="car-3"
                                    style="visibility: hidden;">
                                <!--burn overlays-->
                                <img src="images\filter_activity\burn-1.png" class="is-overlay" id="burn-1"
                                    style="visibility: hidden;">
                                <img src="images\filter_activity\burn-2.png" class="is-overlay" id="burn-2"
                                    style="visibility: hidden;">
                                <img src="images\filter_activity\burn-3.png" class="is-overlay" id="burn-3"
                                    style="visibility: hidden;">
                            </figure>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!--magnify scripts-->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <![endif]-->
    <!--[if IE 9]><!-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <!--<![endif]-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnify/2.3.3/js/jquery.magnify.js"></script>
    <script>
        var $zoom;
        $(document).ready(function () {
            // Initiate magnification powers
            $zoom = $('.zoom').magnify({
                afterLoad: function () {
                    console.log('Magnification powers activated!');
                }
            });
        });
        $('html').on({
            magnifystart: function () {
                console.log('\'magnifystart\' event fired');
            },
            magnifyend: function () {
                console.log('\'magnifyend\' event fired');
            }
        });
    </script>

    <!--pollutant aqi scripts-->
    <script>
        $(document).ready(function () {
            console.log("ready!");
            $.getJSON("https://api.waqi.info/feed/Pittsburgh/?token=b3230be71fcb41b00461eee72688b626cc2674ba", function (result) {

                if (!result || (result.status != "ok")) {
                    document.getElementById("dominentpol").innerHTML = "Sorry, something wrong happend";
                    document.getElementById("pm25").innerHTML = "Error";
                    document.getElementById('o3').innerHTML = "Error";
                    document.getElementById("no2").innerHTML = "Error";
                    return
                } else if (result.status == "ok") {
                    switch (result.data.dominentpol) {
                        case "pm25":

                            document.getElementById("dominentpol").innerHTML = "PM<sub>2.5</sub>";
                            break;
                        case "o3":
                            document.getElementById("dominentpol").innerHTML = "Ozone";
                            break;
                        case "no2":
                            document.getElementById("dominentpol").innerHTML = "Nitrogen Dioxide";
                            break;
                    }
                    document.getElementById("pm25").innerHTML = result.data.iaqi.pm25.v;
                    document.getElementById('o3').innerHTML = result.data.iaqi.o3.v;
                    document.getElementById("no2").innerHTML = result.data.iaqi.no2.v;
                }

            });
        });

    </script>


</body>

<footer class="footer">
    <div class="content has-text-centered">
        <p>
            Designed with <span class="icon"><i class="fas fa-heart"></i></span> and Coded with <span.icon><i
                    class="fas fa-coffee"></i></span.icon> by <a href="https://www.guodong-zhao.com/"
                target="_blank">Guodong Zhao</a> <br />
            <a href="https://github.com/Troyanovsky/LIM" target="_blank"> <span class="icon"><i
                        class="fab fa-github"></i></span>See GitHub Repo</a>
        </p>
    </div>
</footer>

</html>